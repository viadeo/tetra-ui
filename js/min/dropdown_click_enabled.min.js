/*! Tetra UI v1.2.9 | (MIT Licence) (c) Viadeo/APVO Corp - inspired by Bootstrap (c) Twitter, Inc. (Apache 2 Licence) */

tetra.controller.register("dropdown",{scope:"dropdown",constr:function(a,b,c){"use strict";return{events:{model:{},view:{"share btn through apps":function(a){c.notify("retrieve btn from dropdown comp",a)}},controller:{"dropdown: close all":function(){b.notify("close all")}}},methods:{init:function(){}}}}}),tetra.view.register("click_enabled",{scope:"dropdown",constr:function(a,b,c){"use strict";return{events:{user:{click:{".dd-btn":function(b,d){var e=d.parents(".dd"),f=c(d).attr("class").replace(/^.*\b(clickout-\d+)\b.*$/,"$1");c(d).attr("data-dropdown-callback",f),c(e).addClass(f),a.methods.initDd(b,d,e)}},mouseover:{".dd":function(b,c){var d=c.find(".dd-btn:first");a.methods.initDd(b,d,c)}},clickout:{".dd-btn":function(b,d){var e=d.parents(".dd");"click"===d.attr("data-event")&&0===c(b.target).parents(".dd."+c(d).attr("data-dropdown-callback")).length&&(c(b.target).parents(".dd."+c(d).attr("data-dropdown-callback")).removeClass(c(d).attr("data-dropdown-callback")),c(d).removeAttr("data-dropdown-callback"),a.methods.closeDd(d,e))}},mouseout:{".dd":function(b,c){var d=c.find(".dd-btn:first");"mouseover"===d.attr("data-event")&&a.methods.closeDd(d,c)}}},controller:{}},methods:{init:function(){},initDd:function(b,d,e){var f=d.attr("data-event")===b.type;if(f&&e){var g=e.hasClass("open"),h=d.hasClass("btn-disabled"),i=d.hasClass("btn-loading"),j=c(b.target);return h||i||(g?(j.hasClass("dd-btn")||j.parents(".dd-btn").length>0)&&"click"===b.type&&a.methods.closeDd(d,e):a.methods.openDd(d,e)),!1}},openDd:function(a,b){a.addClass("active"),b.addClass("open")},closeDd:function(a,b){a.removeClass("active"),b.removeClass("open")}}}}});