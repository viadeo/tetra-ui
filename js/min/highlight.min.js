/*! Tetra UI v1.2.9 | (MIT Licence) (c) Viadeo/APVO Corp - inspired by Bootstrap (c) Twitter, Inc. (Apache 2 Licence) */

tetra.controller.register("highlight",{scope:"highlight",use:[],constr:function(a,b){"use strict";return{events:{view:{"highlight: display":function(a){b.notify("display highlight",a)},"highlight: close":function(){b.notify("close highlight")}},controller:{"highlight: display":function(a){b.notify("display highlight",a)},"highlight: close":function(){b.notify("close highlight")}}},methods:{init:function(){}}}}}),tetra.view.register("highlight",{scope:"highlight",use:["highlight"],constr:function(a,b,c){"use strict";return{events:{user:{click:{"[data-highlight]":function(c,d){d.attr("data-highlight")&&(a.esc="false"===d.attr("data-esc")?!1:!0,b.notify("highlight: display",d.attr("data-highlight")))}}},window:{keyup:function(c){a.esc&&27===c.keyCode&&b.notify("highlight: close")}},controller:{"display highlight":function(b){"object"==typeof b&&"[object Array]"!==Object.prototype.toString.call(b)?(c(b.target).addClass("highlight-target"),a.esc=b.esc):c(b).addClass("highlight-target"),a.methods.createOverlay()},"close highlight":function(){a.methods.clear()}}},methods:{init:function(){a.esc=!0},clear:function(){c(".highlight-target").removeClass("highlight-target"),c(".highlight-overlay").remove()},createOverlay:function(){c(".highlight-overlay").length||c("body").append('<div class="highlight-overlay"></div>')}}}}});